var app=function(document,$){"use strict";var docElem=document.documentElement,_userAgentInit=function(){docElem.setAttribute("data-useragent",navigator.userAgent)},_init=function(){$(document).foundation(),_userAgentInit()};return{init:_init}}(document,jQuery);!function(){"use strict";app.init()}(),angular.module("health",["ngAnimate","ui.router","ui.bootstrap.modal","angularFileUpload","angular-carousel","health.directives","health.services","health.controllers","health.joincontrollers"]).config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("home",{url:"/",templateUrl:"partials/pages/home.html",controller:"HomeController"}).state("quote",{url:"/quote",templateUrl:"partials/pages/quote.html",controller:"QuoteFormController"}).state("quote.type",{url:"/get",templateUrl:"partials/quote/quote.type.html"}).state("quote.return",{url:"/return",templateUrl:"partials/quote/quote.return.html"}).state("quote.policy",{url:"/policy",templateUrl:"partials/quote/quote.select.html",controller:function($scope){$scope.page={title:"What best describes you?",type:"policy",next:"location","return":!0}}}).state("quote.location",{url:"/location",templateUrl:"partials/quote/quote.select.html",controller:function($scope){$scope.page={title:"What are you from?",type:"state",next:"age"}}}).state("quote.priority",{url:"/priority",templateUrl:"partials/quote/quote.select.html",controller:function($scope){$scope.page={title:"What are you looking for?",type:"priority",next:"show"}}}).state("quote.age",{url:"/age",templateUrl:"partials/quote/quote.select.html",controller:function($scope){$scope.page={title:"How old are you?",content:"If a couple, please pick the oldest out of you. Sorry to be rude - it helps us recommend you better.",type:"age",next:"income"}}}).state("quote.income",{url:"/age",templateUrl:"partials/quote/quote.income-select.html",controller:function($scope){$scope.page={title:"How much do you earn?",content:"We use this to give you an accurate rebate.",type:"income",next:"type",policy:function(){return"Sgl"===$scope.formData.policy?"single":"house"}}}}).state("quote.show",{url:"/show",templateUrl:"partials/quote/quote.show.html",controller:"QuoteController"}).state("quote2",{url:"/quote2",templateUrl:"partials/pages/quote.html",controller:"QuoteFormController"}).state("join",{url:"/join",templateUrl:"partials/pages/join.html",controller:"JoinController"}).state("join.start",{url:"/start",templateUrl:"partials/join/join.start.html"}).state("join.license",{url:"/license",templateUrl:"partials/join/join.upload.html",controller:"JoinLicenseController"}).state("join.medicare",{url:"/medicare",templateUrl:"partials/join/join.upload.html",controller:"JoinMedicareController"}).state("join.current-insurance",{url:"/current-insurance",templateUrl:"partials/join/join.upload.html",controller:"JoinCurrentController"}).state("join.thanks",{url:"/thanks",templateUrl:"partials/join/join.thanks.html"}).state("why-us",{url:"/why-us",templateUrl:"partials/pages/why-us.html"}).state("customers",{url:"/customers",templateUrl:"partials/pages/customers.html"}).state("blog",{url:"/blog",templateUrl:"partials/pages/blog.html",controller:"BlogController"})}]).config(["$locationProvider",function($locationProvider){$locationProvider.hashPrefix("!")}]),angular.module("health.services",[]).factory("HomeData",[function(){return{products:[{name:"Basic 65",description:"Cheap & Cheerful for young singles"},{name:"HeartCare Middle 65",description:"Perfect for the golden oldie"},{name:"Extras 50",description:"All the extras, zero hospital"},{name:"High85",description:"The best coverage in Australia"}],reasons:[{name:"Reasons to switch",description:"We cool. We love online. We nice."},{name:"We rock",description:"We’re a new sort of health insurance, and we’ve got some of the best people in the business behind us."},{name:"We love online",description:"We don’t want to send receipts in by snail mail, and we definitely don’t want to visit anyone’s shop to wait inline and fill out forms."},{name:"Customer service with a heart.",description:"When you need to speak with someone, we are here for you."}]}}]).factory("Testimonials",[function(){return{testimonials:[{name:"Megan, QLD",description:"Impressed with the level of service received so far and it's never difficult to make the phone call for assistance."},{name:"Lucy, NSW",description:"I found the whole joining process really easy and hassle free! Just the way I like it."},{name:"Robyn, VIC",description:"Many many thanks for your time and patience (over live chat assistance). I’m glad that I decided to join with your company, such pleasurable helpful people you are."}]}}]).factory("Proof",[function(){return{awards:[],press:[]}}]).factory("SiteData",[function(){return{menuItems:[{name:"Home",slug:"home",icon:"fa-home",state:"home"},{name:"Why Us",slug:"why-us",icon:"fa-question-circle",state:"why-us"},{name:"Quote",slug:"quote",icon:"fa-search",state:"quote.policy"},{name:"Claim",slug:"claim",icon:"fa-user",state:"customers"}],moreMenuItems:[{name:"Customer Area",description:"Everything you need",state:"customers"},{name:"Blog",description:"Read our stuff",state:"blog"},{name:"10 Second Quote",description:"Swear to god!",state:"quote2"},{name:"Join now",description:"Just for preview",state:"join.start"}]}}]).factory("BlogData",[function(){}]).service("QuoteData2",[function(){return{options:{demographics:[{value:"Sgl",age:"31",label:"Single, Under 31"},{value:"Fam",age:"38",label:"Middle aged Family"},{value:"Cpl",age:"31",label:"Young couple on the loose"},{value:"SPFam",age:"31",label:"Young Single Parent"}],states:[{value:"NSW",label:"New South Wales"},{value:"VIC",label:"Victoria"},{value:"QLD",label:"Queensland"},{value:"TAS",label:"Tasmania"},{value:"ACT",label:"Australian Capital Territory"},{value:"NT",label:"Northern Territory"},{value:"SA",label:"South Australia"},{value:"WA",label:"Western Australia"}],priorities:[{value:"cheap",label:"The cheapest insurance"},{value:"tax",label:"To save on tax"},{value:"family",label:"To have more kids"},{value:"coverage",label:"The best insurance"}]},input:{}}}]).service("QuoteData",[function(){return{options:{policy:[{value:"Sgl",label:"Single"},{value:"Cpl",label:"Couple"},{value:"Fam",label:"Family"},{value:"SPFam",label:"Single Parent"}],state:[{value:"NSW",label:"New South Wales"},{value:"VIC",label:"Victoria"},{value:"QLD",label:"Queensland"},{value:"TAS",label:"Tasmania"},{value:"ACT",label:"Australian Capital Territory"},{value:"NT",label:"Northern Territory"},{value:"SA",label:"South Australia"},{value:"WA",label:"Western Australia"}],priority:[{value:"cheap",label:"The cheapest insurance"},{value:"tax",label:"To save on tax"},{value:"family",label:"To have more kids"},{value:"coverage",label:"The best insurance"}],age:[{value:"18",label:"Under 31"},{value:"31",label:"Between 31 and 38"},{value:"38",label:"Between 38 and 55"},{value:"55",label:"Older than 55"}],income:{single:[{value:"tier1",label:"Less than $90k"},{value:"tier2",label:"Between $90k and $102k"},{value:"tier3",label:"Between $102k and $136k"},{value:"tier4",label:"More than $136k"}],house:[{value:"tier1",label:"Less than $180k"},{value:"tier2",label:"Between $180k and $204k"},{value:"tier3",label:"Between $204k and $272k"},{value:"tier4",label:"More than $272k"}]}},pages:{policy:{title:"What best describes you?",type:"policy"},state:{title:"Where are you from?",type:"state"},priority:{title:"What are you after?",type:"priority"}},formData:{}}}]).factory("Products",[function(){return{products:[{id:46,code:"V500V65",code2:"V65",name:"Vitality 65",nicename:"Vitality65",description:"If children aren’t an issue any more, then Vitality 65 offers peace of mind with a wide range of hospital and extras benefits.",created_at:"2014-06-23 08:55:13",updated_at:"2014-06-22 22:55:13",slug:"vitality65",nicename_slug:"vitality65"},{id:61,sort:53,code:"CWHC250M65",code2:"HCM65",name:"HeartCare Hospital with Middle Extras 65",nicename:"",description:"HeartCare is perfect if you want the added safety of cover for your heart. And 65% back on a wide range of Extras at your choice of provider.",slug:"heartcarehospitalwithmiddleextras65",nicename_slug:""},{id:31,status:"active",sort:97,code:"H500H85",code2:"H85",name:"High Hospital with High Extras 85",nicename:"High85",description:"Peace of mind Hospital cover. And 85% back on a long list of Extras with your provider, not ours.",extra_back:85,extras_value:5250,excess:500,age_min:25,age_max:100,comparable:"High",created_at:"2014-06-23 08:53:17",updated_at:"2014-06-22 22:53:17",type_slug:"",slug:"highhospitalwithhighextras85",nicename_slug:"high85"}]}}]).service("GeoCode",[function(){}]),angular.module("health.directives",[]).directive("fullPageScroll",[function(){return{restrict:"A",link:function(scope,element){scope.fullpage=angular.element(element).fullpage({easing:$.bez([.4,0,.2,1])})},controller:function($scope){console.log($scope),$scope.$on("$stateChangeStart",function(){})}}}]).directive("topBar",[function(){return{restrict:"E",replace:!0,controller:"TopBarController",templateUrl:"partials/interface/header.html"}}]).directive("bottomBar",[function(){return{restrict:"E",replace:!0,controller:"MenuBarController",templateUrl:"partials/interface/menu.html"}}]).directive("sexyModal",[function(){return{restrict:"E",replace:!0,transclude:"element",templateUrl:"partials/interface/modal.html",scope:{show:"=",data:"@"},link:function(scope){scope.hideModal=function(){scope.show=!1}}}}]).directive("selectModal",[function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"partials/interface/select-modal.html",scope:{options:"=",show:"=",userinput:"="},controller:function($scope){$scope.selectOption=function(option){$scope.show=!1,$scope.userinput=option,$scope.$parent.$parent.closeModal()}}}}]).directive("imageUploadButton",["$interval","$timeout",function($interval,$timeout){return{restrict:"E",replace:!0,templateUrl:"partials/interface/progress-button.html",scope:{photo:"=",callback:"&callbackFn"},link:function(scope){scope.params={status:"Tap to capture",icon:"camera",progress:0,loading:!1},scope.onFileSelect=function(){scope.params.status="Uploading...",scope.params.icon="spinner fa-spin",scope.params.loading=!0,scope.progressTimer=$interval(scope.doProgress,200)},scope.finishedUploading=function(){scope.params.status="Thanks!",scope.params.icon="check",scope.params.loading=!1,$interval.cancel(scope.progressTimer),$timeout(function(){"function"==typeof scope.callback&&scope.callback()},1e3)},scope.doProgress=function(){100===scope.params.progress?scope.finishedUploading():scope.params.progress<100&&(scope.params.progress=scope.params.progress+=10)}}}}]).directive("quoteParameter",[function(){return{restrict:"E",replace:!0,templateUrl:"partials/interface/quote-parameter.html",scope:{param:"@",value:"="}}}]),angular.module("health.controllers",[]).controller("MainController",["$scope","$rootScope",function($scope){window.scope=$scope,$scope.uiStates={bottomDrawerOpen:!1,topDrawerOpen:!1},$scope.$on("$stateChangeStart",function(event,toState){$scope.overflowY="home"===toState.name?{overflow:"hidden"}:{overflow:"scroll"}}),window.overflowY=$scope.overflowY}]).controller("TopBarController",["$scope","$modal",function($scope,$modal){$scope.openSupport=function(){$modal.open({templateUrl:"partials/modals/support.html",controller:"SupportPopupController"}).result.then(function(){})}}]).controller("MenuBarController",["$scope","SiteData",function($scope,SiteData){$scope.menuItems=SiteData.menuItems,$scope.moreItems=SiteData.moreMenuItems,$scope.toggleDrawer=function(){$scope.uiStates.bottomDrawerOpen=$scope.uiStates.bottomDrawerOpen?!1:!0}}]).controller("HomeController",["$scope","$modal","HomeData","Testimonials","Proof",function($scope,$modal,HomeData,Testimonials,Proof){$scope.testimonials=Testimonials.testimonials,$scope.proof=Proof,$scope.data=HomeData,$scope.noOverflow={},$scope.openTestimonials=function(){$modal.open({templateUrl:"partials/modals/testimonials.html",resolve:{testimonials:function(){return Testimonials.testimonials}},controller:function($scope,testimonials){$scope.testimonials=testimonials}})},$scope.openProofs=function(){$modal.open({templateUrl:"partials/modals/proof.html",resolve:{Proof:function(){return Proof}},controller:function($scope,Proof){$scope.awards=Proof.awards,$scope.press=Proof.press}})}}]).controller("QuoteFormController",["$scope","QuoteData","GeoCode","Products",function($scope,QuoteData2,GeoCode,Products){$scope.options=QuoteData2.options,$scope.geocode=GeoCode,$scope.formData={selections:{}},$scope.products=Products.products,$scope.uiState={cardFlipped:!1},window.formdata=$scope.formData,$scope.getLocation=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition($scope.savePosition)},$scope.savePosition=function(position){$scope.formData.coords=position.coords,$scope.formData.geoCode=GeoCode.reverse($scope.formData.coords.lat,$scope.formData.coords.lng),console.log($scope.formData)},$scope.getQuote=function(){},$scope.flipCard=function(){}}]).controller("SecondQuoteFormController",["$scope","QuoteData",function($scope,QuoteData){$scope.quote=QuoteData,$scope.getQuote=function(){}}]).controller("QuoteController",["$scope",function(){}]).controller("BlogController",["$scope","$http",function($scope,$http){$http.jsonp("http://nia.staging.wpengine.com/api/get_recent_posts/?callback=JSON_CALLBACK").success(function(response){$scope.posts=response.posts,console.log($scope.posts)})}]).controller("ContactPopupController",["$scope",function(){}]).controller("SupportPopupController",["$scope",function(){}]),angular.module("health.joincontrollers",[]).controller("JoinController",["$scope","$modal",function($scope,$modal){$scope.signupData={},$scope.viewProduct=function(id){$modal.open({templateUrl:"partials/join/modal.view-product.html",windowClass:"product-view",resolve:{Product:function(){return"product"}},controller:function($scope,Product){console.log(id,$scope,Product)}})},$scope.joinMember=function(){}}]).controller("JoinLicenseController",["$scope","$state","$modal","$timeout",function($scope,$state,$modal,$timeout){$scope.page={title:"Snap a photo of your license",content:"We use this to grab information such as your age and address",type:"license"},$scope.next=function(){$state.go("join.medicare")},$scope.after=function(){$modal.open({templateUrl:"partials/join/modal.correct-address.html",controller:function($scope){$scope.correct_address=!0,$scope.address="",$scope.accept=function(correct){$scope.$close(correct?$scope.address:"correct")}}}).result.then(function(address){$scope.signupData.address=address,$timeout($scope.next,700)})}}]).controller("JoinMedicareController",["$scope","$state","$modal","$timeout",function($scope,$state,$modal,$timeout){$scope.page={title:"Next, your medicare card",content:"We can grab your other policy holders from this.",type:"medicare"},$scope.next=function(){$state.go("join.current-insurance")},$scope.after=function(){$modal.open({templateUrl:"partials/join/modal.medicare-holders.html",controller:function($scope){$scope.steps={removePeople:!0,addPeople:!1},$scope.areYou={removingPeople:!1,addingPeople:!1,details:[{}]},$scope.addPerson=function(){$scope.areYou.details.push({})},$scope.accept=function(){$scope.$close($scope.areYou),$timeout($scope.next,700)},$scope.next=function(){$state.go("join.current-insurance")}}}).result.then(function(areYou){$scope.signupData.callToRemove=areYou.removingPeople,$scope.signupData.additionalHolders=areYou.details})}}]).controller("JoinCurrentController",["$scope","$state","$modal","$timeout",function($scope,$state,$modal,$timeout){$scope.page={title:"Finally, your current health insurance card",content:"Be sure to take a photo of the side with your policy details on it! This helps us switch you faster.",type:"current-insurance"},$scope.after=function(){$modal.open({templateUrl:"partials/join/modal.moving-all.html",controller:function($scope){$scope.accept=function(moveAll){$scope.$close(moveAll?"yes":"no"),$timeout($scope.next,700)},$scope.next=function(){$state.go("join.thanks")}}}).result.then(function(result){$scope.signupData.movingAllFromOld=result})}}]);